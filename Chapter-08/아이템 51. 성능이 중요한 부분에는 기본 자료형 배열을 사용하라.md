# 아이템 51. 성능이 중요한 부분에는 기본 자료형 배열을 사용하라

코틀린은 기본 자료형을 선언할 수 없지만, 최적화를 위해 내부적으로 사용할 수 있다.
기본 자료형의 특징은 아래와 같다.
- 가볍다 / 일반 객체와 다르게 추가적으로 포함되는 것들이 없기 때문이다.
- 빠르다 / 값에 접근할 때 추가 비용이 들어가지 않는다

이런 이유로 대규모의 데이터를 처리할 때 기본 자료형을 사용하면, 상당한 최적화가 이뤄진다.

코틀린의 List와 Set 등의 컬렉션은 제네릭 타입이다.

제네릭 타입에는 기본 자료형을 사용할 수 없어 래핑된 타입을 사용한다.

일반 적인 경우 래핑된 타입을 사용하면 처리가 쉬워 적합하다. 하지만 `성능이 더 중요한 경우 IntArray 같은 기본 자료형을 활용하는 배열`을 사용하자.

코틀린/JVM에서 1,000,000 개의 정수를 갖는 컬렉션을 만든다 가정했을 때 IntArray와 List<Int>를 사용할 수 있다.
  
- IntArray : 400,000,016 byte
- List<Int>: 2,000,006,944 byte
  
단순하게 할당되는 영역만 해도 5배 정도의 차이가 발생한다.

IntArray와 List<Int>의 평균을 구하는 것도 IntArray가 25%정도 빠른 모습을 보여준다.
  
## 정리
- 일반적으로 Array보다 List와 Set을 사용하는 것이 좋다.
- 하지만 성능이 더 중요한 경우 Array를 사용하는 것이 더 좋다.
